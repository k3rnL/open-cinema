project_root: "/opt/home-cinema"

# Open Cinema Application
open_cinema:
  version: "0.0.2"
  repo: "k3rnL/open-cinema"  # Update with your GitHub username
  python_version: "3.13"
  app_path: "{{ project_root }}/open-cinema"
  venv_path: "{{ project_root }}/open-cinema/venv"
  user: "opencinema"
  group: "opencinema"

  # Django settings
  django:
    secret_key: "CHANGE_ME_IN_PRODUCTION"  # Override in host_vars or vault
    debug: false
    allowed_hosts: "*"
    database: "{{ project_root }}/open-cinema/db.sqlite3"

  # Service ports
  gunicorn_port: 8000
  gunicorn_workers: 2

# CamillaDSP Configuration
camilladsp:
  version: "v2.0.3"
  repo: "HEnquist/camilladsp"
  websocket_port: 1234
  websocket_address: "0.0.0.0"
  config_path: "/etc/camilladsp/default.yml"

  # Build from source (no ARM64 binaries with pulse support available)
  build_from_source: true
  features: "pulse-backend"
  install_path: "/usr/local/bin/camilladsp"

# PulseAudio Configuration
pulseaudio:
  system_wide: true
  default_sample_rate: 48000
  # Pipe sources/sinks for testing
  enable_pipes: false
  pipes:
    input:
      file: "/tmp/pa.input"
      rate: 48000
      format: "S16LE"
      channels: 2
    output:
      file: "/tmp/pa.output"
      rate: 48000
      format: "float32LE"
      channels: 6

# PCM Auto Decoder (existing)
pcm_auto_decoder:
  repo: "k3rnl/pcm-auto-decoder"
  version: "v0.1.3"
  target: "aarch64-unknown-linux-gnu"
  bin_name: "pcm-auto-decoder"
  install_path: "/usr/local/bin/pcm-auto-decoder"
  tarball: "{{ pcm_auto_decoder.bin_name }}-{{ pcm_auto_decoder.version }}-{{ pcm_auto_decoder.target }}.tar.gz"
  sha256: "1bb42509b665aaa36e3c624f8ae80db0607cce2d44f5ec9af6d353f14307d541"
  config_path: "{{ project_root }}/pcm-auto-decoder.yaml"

# Open Cinema UI (React Applications)
open_cinema_ui:
  version: "v1.0.0"  # Update with latest release version
  repo: "k3rnL/open-cinema-ui"

  # Admin interface (for system configuration)
  admin:
    asset_name: "open-cinema-admin-build.tar.gz"
    web_root: "/var/www/open-cinema-admin"

  # User interface (for end users)
  user_ui:
    asset_name: "open-cinema-ui-build.tar.gz"
    web_root: "/var/www/open-cinema-ui"